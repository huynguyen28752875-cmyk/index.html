<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu√°n Ph·ªü Anh Ba - Game Qu·∫£n L√Ω Ti·ªám Ph·ªü</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Itim&family=Sedgwick+Ave+Display&display=swap');
        
        :root {
            --wood: #8b4513;
            --paper: #fef3c7;
            --red-brand: #b91c1c;
        }

        body { 
            background-color: #1a1a1a; 
            color: #333; 
            font-family: 'Itim', cursive;
            user-select: none;
            overflow: hidden;
        }

        /* KHUNG GAME MOBILE STYLE */
        #game-container {
            background: #e5e7eb;
            background-image: repeating-linear-gradient(45deg, #d1d5db 0, #d1d5db 1px, transparent 0, transparent 50%);
            background-size: 10px 10px;
            border: 8px solid var(--wood);
            border-radius: 40px;
            position: relative;
            max-width: 480px;
            margin: 10px auto;
            height: 95vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        /* BI·ªÇN HI·ªÜU QU√ÅN */
        .shop-banner {
            background: var(--red-brand);
            color: white;
            padding: 20px 10px;
            text-align: center;
            border-bottom: 5px solid #7f1d1d;
            border-radius: 30px 30px 0 0;
        }
        .brand-title { font-family: 'Sedgwick Ave Display', cursive; font-size: 2.2rem; line-height: 1; }

        /* KHU V·ª∞C TH√îNG S·ªê */
        .stats-area {
            background: rgba(255,255,255,0.8);
            margin: 10px;
            padding: 10px;
            border-radius: 15px;
            border: 2px solid var(--wood);
            display: flex;
            justify-content: space-around;
            font-weight: bold;
        }

        /* S√ÇN CH∆†I (PH·ª§C V·ª§ KH√ÅCH) */
        #play-zone {
            flex-grow: 1;
            position: relative;
            overflow: hidden;
        }

        .customer {
            position: absolute;
            bottom: 20px;
            transition: all 0.8s ease;
            text-align: center;
            width: 120px;
        }

        .chat-bubble {
            background: white;
            border: 2px solid #333;
            border-radius: 15px;
            padding: 5px 10px;
            font-size: 12px;
            margin-bottom: 5px;
            position: relative;
            box-shadow: 3px 3px 0 rgba(0,0,0,0.1);
        }

        /* N√öT M√öC PH·ªû */
        .cook-action {
            position: absolute;
            bottom: 220px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
        }

        .btn-muck {
            background: radial-gradient(#ef4444, #991b1b);
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: 8px solid #fca5a5;
            color: white;
            font-size: 1.5rem;
            font-weight: 900;
            box-shadow: 0 10px 0 #7f1d1d;
            transition: 0.1s;
        }

        .btn-muck:active {
            transform: translateY(6px);
            box-shadow: 0 4px 0 #7f1d1d;
        }

        /* MENU N√ÇNG C·∫§P (D∆Ø·ªöI C√ôNG) */
        .upgrade-menu {
            background: #d97706;
            padding: 15px;
            border-top: 5px solid var(--wood);
            height: 200px;
            color: white;
        }

        .upgrade-item {
            background: rgba(255,255,255,0.2);
            padding: 10px;
            border-radius: 12px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* HI·ªÜU ·ª®NG TI·ªÄN */
        .money-anim {
            position: absolute;
            color: #16a34a;
            font-weight: 900;
            font-size: 20px;
            animation: floatUp 1s forwards;
            pointer-events: none;
        }

        @keyframes floatUp {
            to { transform: translateY(-120px); opacity: 0; }
        }

        .music-btn {
            position: absolute;
            top: 150px;
            right: 15px;
            background: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--wood);
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="game-container">
        <audio id="bgMusic" loop>
            <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3" type="audio/mpeg">
        </audio>

        <header class="shop-banner">
            <h1 class="brand-title">QU√ÅN PH·ªû ANH BA</h1>
            <p class="text-[10px] uppercase tracking-widest mt-1">Ph·ªü gia truy·ªÅn - M√∫c li·ªÅn tay</p>
        </header>

        <div class="stats-area">
            <div>üí∞ <span id="money">0</span>ƒë</div>
            <div>‚≠ê <span id="rep">0</span> Sao</div>
        </div>

        <div onclick="toggleMusic()" class="music-btn" id="mBtn">
            <i class="fas fa-volume-mute text-red-600"></i>
        </div>

        <div id="play-zone">
            <div id="customers"></div>
            
            <div class="cook-action text-center">
                <button onclick="muckPho(event)" class="btn-muck italic">M√öC PH·ªû!</button>
                <p class="text-xs font-bold text-orange-900 mt-2 uppercase">Ch·∫°m ƒë·ªÉ b√°n h√†ng</p>
            </div>
        </div>

        <footer class="upgrade-menu">
            <h3 class="text-xs font-bold uppercase mb-3"><i class="fas fa-store"></i> ƒê·∫ßu t∆∞ qu√°n ph·ªü</h3>
            <div class="overflow-y-auto h-32 pr-2">
                <div class="upgrade-item">
                    <div>
                        <p class="text-[12px] font-bold">‚ô®Ô∏è B·∫øp Than T·ªï Ong</p>
                        <p class="text-[9px]">+50k/m√∫c</p>
                    </div>
                    <button onclick="buy('click')" class="bg-yellow-400 text-black px-4 py-1 rounded-full text-xs font-bold" id="cClick">500k</button>
                </div>
                <div class="upgrade-item">
                    <div>
                        <p class="text-[12px] font-bold">üë®‚Äçüç≥ Thu√™ Ph·ª• B·∫øp</p>
                        <p class="text-[9px]">T·ª± m√∫c 1 t√¥/gi√¢y</p>
                    </div>
                    <button onclick="buy('auto')" class="bg-yellow-400 text-black px-4 py-1 rounded-full text-xs font-bold" id="cAuto">2tr</button>
                </div>
            </div>
        </footer>
    </div>

    <script>
        let data = {
            money: 0,
            rep: 0,
            power: 50000,
            auto: 0,
            costC: 500000,
            costA: 2000000
        };

        const music = document.getElementById('bgMusic');
        const mBtn = document.getElementById('mBtn');

        function toggleMusic() {
            if (music.paused) {
                music.play();
                mBtn.innerHTML = '<i class="fas fa-volume-up text-green-600"></i>';
            } else {
                music.pause();
                mBtn.innerHTML = '<i class="fas fa-volume-mute text-red-600"></i>';
            }
        }

        function muckPho(e) {
            data.money += data.power;
            showMoney(e.pageX, e.pageY, `+${data.power/1000}k`);
            if (Math.random() > 0.6) spawnCustomer();
            update();
        }

        function showMoney(x, y, txt) {
            const div = document.createElement('div');
            div.className = 'money-anim';
            div.style.left = (x - 20) + 'px';
            div.style.top = (y - 50) + 'px';
            div.innerText = txt;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 1000);
        }

        const dialogs = [
            "Cho con m·ªôt t√¥ kh√¥ng h√†nh!",
            "Ph·ªü Anh Ba l√† s·ªë 1!",
            "N∆∞·ªõc d√πng ng·ªçt qu√° ch√∫ ∆°i",
            "Nhi·ªÅu b√°nh √≠t h√†nh nha ch√∫",
            "Cho con xin th√™m qu·∫©y!",
            "T√¥ n√†y kh√¥ng h√†nh nha Anh Ba"
        ];
        const skins = ['üë®‚Äçüíº', 'üë©‚Äçüíº', 'üëß', 'üë®‚Äçüåæ', 'üë∑', 'üë®‚Äçüç≥'];

        function spawnCustomer() {
            const wrap = document.getElementById('customers');
            if (wrap.children.length > 3) return;

            const guest = document.createElement('div');
            guest.className = 'customer';
            guest.style.left = Math.random() * 60 + 10 + '%';
            guest.innerHTML = `
                <div class="chat-bubble">${dialogs[Math.floor(Math.random()*dialogs.length)]}</div>
                <div class="text-6xl">${skins[Math.floor(Math.random()*skins.length)]}</div>
            `;
            wrap.appendChild(guest);
            setTimeout(() => { 
                guest.style.opacity = '0'; 
                setTimeout(() => guest.remove(), 1000);
            }, 3000);
        }

        function buy(type) {
            if (type === 'click' && data.money >= data.costC) {
                data.money -= data.costC;
                data.power += 25000;
                data.costC = Math.floor(data.costC * 1.6);
                data.rep += 1;
            } else if (type === 'auto' && data.money >= data.costA) {
                data.money -= data.costA;
                data.auto += 20000;
                data.costA = Math.floor(data.costA * 1.8);
                data.rep += 2;
            } else {
                alert("Anh Ba ∆°i, thi·∫øu ti·ªÅn r·ªìi!");
            }
            update();
        }

        function update() {
            document.getElementById('money').innerText = data.money.toLocaleString();
            document.getElementById('rep').innerText = data.rep;
            document.getElementById('cClick').innerText = (data.costC/1000).toFixed(0) + 'k';
            document.getElementById('cAuto').innerText = (data.costA/1000000).toFixed(1) + 'tr';
        }

        setInterval(() => {
            if (data.auto > 0) {
                data.money += data.auto;
                update();
            }
        }, 1000);

        update();
    </script>
</body>
</html>
